#################################
#             Backend           #
#################################
backend = "glx";
glx-copy-from-front = false;
vsync = true;

#################################
#           Transparencia       #
#################################
# Opacidad ajustada para que se vea limpia
active-opacity = 1.0;      # ← Ventanas activas 100% opacas (sin efecto acrílico)
inactive-opacity = 0.95;   # ← Ventanas inactivas ligeramente transparentes

# Opacidad por aplicación
opacity-rule = [
  "95:class_g = 'kitty' && focused",     # ← Kitty menos transparente
  "85:class_g = 'kitty' && !focused",
  "90:class_g = 'Rofi'",
  "100:class_g = 'Firefox'",             # Firefox siempre opaco
  "100:class_g = 'discord'",             # Discord opaco
  "100:class_g = 'Spotify'",             # Spotify opaco
  "100:class_g = 'vlc'",                 # Videos opacos
];

#################################
#     Blur (Desenfoque)         #
#################################
# ← ESTE ES EL PROBLEMA de los bordes acrílicos
# Opción 1: Desactivar completamente
# blur-method = "none";

# Opción 2: Blur MÁS SUAVE (menos intenso)
blur: {
  method = "dual_kawase";
  strength = 3;              # ← REDUCIDO de 5 a 3 (menos efecto acrílico)
  background = false;        # ← CAMBIADO a false (no desenfocar fondo de menús)
  background-frame = false;
  background-fixed = false;
}

# Excluir blur en más sitios para evitar el efecto acrílico
blur-background-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "window_type = 'menu'",          # ← AÑADIDO (menús sin blur)
  "window_type = 'dropdown_menu'", # ← AÑADIDO
  "window_type = 'popup_menu'",    # ← AÑADIDO
  "class_g = 'firefox'",
  "class_g = 'qutebrowser'",       
  "class_g = 'Rofi'",              # ← AÑADIDO (Rofi sin blur)
  "_GTK_FRAME_EXTENTS@:c"
];

#################################
#           Sombras             #
#################################
shadow = true;
shadow-radius = 10;        # ← Reducido de 12 a 10 (más sutil)
shadow-offset-x = -8;      # ← Reducido de -12 a -8
shadow-offset-y = -8;      # ← Reducido de -12 a -8
shadow-opacity = 0.3;      # ← Reducido de 0.4 a 0.3 (menos intensa)

# Excluir sombras en menús para que se vean más limpios
shadow-exclude = [
  "window_type = 'menu'",
  "window_type = 'dropdown_menu'",
  "window_type = 'popup_menu'",
  "class_g = 'Rofi'"
];

#################################
#           Esquinas            #
#################################
corner-radius = 8;         # ← Reducido de 10 a 8 (más sutil)

rounded-corners-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "window_type = 'menu'",          # ← AÑADIDO (menús sin esquinas)
  "window_type = 'dropdown_menu'", # ← AÑADIDO
  "window_type = 'popup_menu'",    # ← AÑADIDO
];

#################################
#      Fading (Opcional)        #
#################################
# Transiciones suaves al abrir/cerrar ventanas
fading = true;
fade-in-step = 0.02;
fade-out-step = 0.02;
fade-delta = 5;
